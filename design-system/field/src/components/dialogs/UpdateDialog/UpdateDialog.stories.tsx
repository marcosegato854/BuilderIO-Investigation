import React from 'react'
import { Story, Meta } from '@storybook/react'
import UpdateDialog from 'components/dialogs/UpdateDialog/UpdateDialog'
import configureMockStore from 'redux-mock-store'
import { mockStore } from 'store/mock/mockStoreTests'
import { mergeDeepRight } from 'ramda'
import { Provider } from 'react-redux'

// Example of how we should declare props' default values:

// 1) Declare the defaultProps object with the right properties and assign them a value
const eula =
  '\n\n\nLeica Geosystems \nSoftware License Agreement\n\n*Please read this License Agreement thoroughly before using the Software*\n\nPLEASE READ THE FOLLOWING TERMS AND CONDITIONS OF THIS LICENSE AGREEMENT (THE “LICENSE AGREEMENT”) CAREFULLY BEFORE USING THIS PRODUCT (AS DEFINED IN SECTION 1). THE PRODUCT INCLUDES SOFTWARE, WHICH LEICA GEOSYSTEMS WILL LICENSE TO YOU FOR USE ONLY IN THE MANNER DETAILED BELOW. YOU MUST NOT INSTALL OR USE THE SOFTWARE UNLESS YOU HAVE READ AND ACCEPTED THE TERMS AND CONDITIONS HEREIN; BY PROCEEDING WITH THE INSTALLATION OR THE USE OF THE SOFTWARE OR ANY PART THEREOF, YOU SHALL BE DEEMED TO HAVE AGREED TO ALL THE TERMS AND CONDITIONS OF THE LICENSE, THE WARRANTY, THE LIMITATION OF LIABILITY AND THE OTHER PROVISIONS OF THIS LICENSE AGREEMENT, INCLUDING ANY SUPPLEMENTAL TERMS PROVIDED. \n \nIN THE EVENT THAT YOU DO NOT AGREE TO THE TERMS AND CONDITIONS OF THIS LICENSE AGREEMENT, YOU SHALL NOT BE PERMITTED TO USE THE SOFTWARE, AND YOU MUST RETURN THE UNUSED SOFTWARE TOGETHER WITH ITS ACCOMPANYING DOCUMENTATION AND THE PURCHASE RECEIPT TO THE DEALER FROM WHOM YOU PURCHASED THE PRODUCT WITHIN TEN (10) DAYS OF PURCHASE TO OBTAIN A FULL REFUND OF THE PURCHASE PRICE.  \n \nTHIS SOFTWARE MAY INCLUDE PRODUCT ACTIVATION AND OTHER TECHNOLOGY DESIGNED TO PREVENT UNAUTHORIZED USE AND COPYING OR TO PROVIDE TECHNICAL OR SUPPORT SERVICES REMOTELY BY LEICA GEOSYSTEMS OR ITS AUTHORIZED RESELLER OR THIRD PARTY. THIS TECHNOLOGY MAY CAUSE YOUR COMPUTER OR DEVICE TO AUTOMATICALLY CONNECT TO THE INTERNET. ADDITIONALLY, ONCE CONNECTED, THE SOFTWARE MAY TRANSMIT YOUR SERIAL NUMBER/LICENSE NUMBER TO LEICA GEOSYSTEMS AND IN DOING SO MAY PREVENT USES OF THE SOFTWARE WHICH ARE NOT PERMITTED; ALSO, THE SOFTWARE MAY TRANSMIT OTHER SUPPORT-RELATED INFORMATION, SUCH AS CONFIGURATIONS, USAGE STATISTICS, OR ALLOW OR PUSH DOWNLOADS OF UPDATES TO PRODUCT SOFTWARE. \n \n1\tDefinitions \n\n“Integrated and Resale Software Supplemental Terms (“Supplemental Terms”)” shall mean, if applicable, the terms and conditions attached to this License Agreement, which are incorporated by reference herein and that, together with this License Agreement, govern Licensee’s use of specified Third-Party Software.  To the extent there is any conflict or inconsistency between the provisions of this License Agreement and the Supplemental Terms, the provisions of the Supplemental Terms shall take priority and govern solely with respect to the Third-Party Software; \n“Patches” shall mean the fixing of a programming error (bug) or of a wrong behavior of the Software or the related Software code.\n“Product” shall mean (a) the Leica Geosystems instrument you have purchased for use with the Software, if any, or (b) the Software itself, if you have licensed the Software on a stand-alone basis. \n“Purchase Agreement” shall mean the purchase order, agreement or other document pursuant to which you purchased the Product.  \n“Software” shall, depending on the case, mean the Leica Geosystems software and Third-Party Software, and the related documentation (in electronic or in paper form), (a) that is supplied to you on a data carrier medium, or (b) that is pre-installed on the Product (if the Product is not the Software itself), or (c) that can be downloaded by you online pursuant to prior authorization from Leica Geosystems.   \n“Specifications” shall mean the functionality of the Software as described in the Product description and the help functions, if any, provided in electronic or in paper form by Leica Geosystems in conjunction with the Software.\n“Specified Computer Facility” shall mean the computer or server environment defined in the Product description that is required for the proper functioning of the Software. \n“Third-Party Software” shall mean, if applicable, third-party software specified in the Supplemental Terms, which has been integrated with the Software and/or Product or resold by Leica Geosystems;\n“Updates” shall mean software that corrects faults in the Software or Third-Party Software or that, pursuant to no obligation hereunder, enhances the functionality of the Software or Third-Party Software by providing additional functions or any other increases in performance.   \n\n2 \tScope of the License \n\nLeica Geosystems AG, Heinrich-Wild-Strasse, CH-9435 Heerbrugg, Switzerland (alternatively, the "Licensor" or “Leica Geosystems”) hereby grants to you (the "Licensee"), subject to payment of the applicable license fee and to continuous compliance with all the provisions hereinafter and in the Supplemental Terms, the non-exclusive, non-transferable, non-sublicensable, and non-assignable right to use in the manner set forth herein the Software on one (1) application, unless the number of permitted applications is otherwise agreed upon in the Purchase Agreement.  The use of the Software for a purpose other than as licensed herein shall not be permitted. \n\nThe foregoing license is limited as follows: (a)  the Software will be used only on such permitted number of applications and in a mechanically readable form; (b)  the Software will as a whole or in part be installed, saved and run only on the Specified Computer Facility in accordance with the installation instructions of Licensor; and (c) one (1) copy of the Software may be made exclusively for security and archiving purposes, provided that such copy carries a comprehensive copyright notice together with all additional references to the rights of Licensor to the Software and the designation of the original version.  In the event that the Software is an update or an additional module for an already licensed system, instrument or facility, Licensee may make only as many copies as previously authorized by Licensor. Certain Software supplied by Licensor may contain a special program that regulates and monitors the number of simultaneous users of the Software in a network environment together with the number of the licensed copies of the Software, excluding back-up copies (the “Special Program”).  Licensee hereby consents to the inclusion and operation of such Special Program and to the use of other security devices in connection with the Software and Licensee shall be prohibited from circumventing, reverse-engineering or copying such Special Program or any other security devices.  \n\nLicensee will use the Software only in the manner permitted under the foregoing license and will not (a) alter the Software or any part thereof in any manner (including, without limitation, through modifications, adaptations, translations, or second-hand versions.), (b) decompile the Software or any part thereof, (c) reverse-engineer or disassemble the Software or any part thereof or manipulate the Software in any other way into a form that persons can read, (d) transfer the Software or any part thereof to another operating system, (e) pass on the Software or any part thereof to a third party or make it available to a third party in any other manner (including, without limitation, for testing or by gift, lease, loan or sublicense, or via a service bureau) without the prior written consent of Licensor,  (f)  use the Software or any part thereof on a computer facility other than the Specified Computer Facility, or on more than one work station, on networks, on a client server system or on mobile additional instruments without the prior written consent of Licensor, (g) remove, alter, or obscure any proprietary notices, labels, or marks from the Software, (h) use any equipment, device, software, or other means designed to circumvent or remove any form of copy protection used by Leica Geosystems in connection with the Software, or use the Software together with any authorization code, serial number, or other copy-protection device not supplied by Leica Geosystems directly or through an authorized distributor; or (i) use any equipment, device, software, or other means designed to circumvent or remove any usage restrictions, or to enable functionality disabled by Leica Geosystems.  \n\nInstallation, access, and continued use of the Software may require an entitlement number. Registration may be required for certain features or before an entitlement number is issued by Leica Geosystems. Licensee agrees that Leica Geosystems may use data and information provided by Licensee, an authorized reseller, or any other third party acting on behalf of Licensee in connection with the purchase of the software license to register the Software. Licensee agrees to provide Leica Geosystems, an authorized reseller, or any other third party acting on Licensee’s behalf with accurate and current registration information, and Licensee further agrees to maintain and update this registration information through customer data registration processes that may be provided by Leica Geosystems. By installing and using the Software, Licensee consents to Leica Geosystems using any personal information provided at registration, or updated thereafter, to issue entitlement numbers, to manage Leica Geosystems’ relationship with Licensee (including automating the issuance of entitlement numbers for future purchases), and to otherwise use any such personal information in conformance with its privacy policy, if applicable, which is available at https://leica-geosystems.com/global/privacy-policy.  \n\nThe activation security mechanisms may disable the Software if Licensee attempts without Leica Geosystems’ consent or authorization to transfer it to another computer or device, if the date-setting mechanisms on the computer or device is tampered with, if Licensee uses the Software past an applicable evaluation period or limited term, or if Licensee undertakes certain other actions that may offset the security mode.  \n\nThis Software may cause the Specified Computer Facility to automatically connect to the Internet and to communicate with Leica Geosystems and or with third parties connected with the development and/or the validation of the Software.  \n\nExcept for the Third-Party Software specified in the Supplemental Terms, this Software license does not cover or include the use of third-party software.  Licensee’s right to use any such other third -party software shall be governed by the provisions set forth by such third party. \n\nThis Software license shall also apply to Open Source Software (OSS). In case of conflict with the terms of this Software License Agreement, the terms of the respective OSS license agreement shall govern. \n\n3 \tWarranty \n\nExpress Warranty.  Licensor warrants to the original Licensee that (a)  the data carrier medium on which the Software is stored shall be free from defects in workmanship and material at the time of delivery to Licensee, and (b)  for the warranty period specified in the relevant Purchase Order, the Software (but not Updates) shall function in material accordance with the Specifications, provided the Software is used in the manner permitted in the foregoing license, on the Specified Computer Facility and in accordance with the conditions of installation, use and operation set forth in the Product description. Licensor does not warrant that the Software will be free of defects, run without interruption, meet the expectations of Licensee, or function in combination with the hardware or software products of third parties, or that all program errors will be corrected.  In addition to the foregoing, in order for a defect in the Software to be sufficiently material so as to violate the warranty set forth in subsection (b), above, of this paragraph, the defect must cause the Software - while being used in the manner permitted in the foregoing license - to function in a way so divergent from the Specifications that it is unsuitable for the purpose described in the Product description.  Furthermore, if the required functionality can be achieved by the Licensee indirectly (through a so called “work-around”), then the applicable impairment shall not constitute a defect giving rise to duties under the foregoing warranty. Licensor’s sole obligation under the foregoing warranty shall be, at Licensor’s sole option and expense, to either (a)  replace the data carrier and/or the Software, so as to materially conform with the Specifications (including, without limitation, replacement with a more recent version or equivalent software); or (b)  repair the Software by providing correction codes, work-around solutions and/or Updates, including updated documentation and other documents; or (c)  terminate this License Agreement and refund all license fees received following the return of the Software in accordance with Section 7 below.  The foregoing warranty will apply to any replaced data carriers and Software until expiry of the original warranty period.  \n\nThe costs and risk of any delivery of Software to the service point nominated by Licensor shall be borne by Licensee.   \n\nObtaining warranty service.  If Licensee detects a defect in the Software that may give rise to a duty under the foregoing warranty, it will cease using the Software immediately and notify Licensor or its local sales partner in writing of the defect and provide sufficient supporting documentation within the period for notifying defects.  Such period for notifying defects is ninety (90) days from the date of delivery of the data carrier medium (for a defect in the data carrier medium) and one (1) year from the date of delivery of the Software (for a defect in the Software). The written supporting documentation relating to the defect will be sufficient if it permits the defect detected by Licensee to be capable of reproduction by Licensor.  Licensee will annex the relevant purchase receipt so that Licensor can determine compliance with the periods for notifying defects.  Licensee will not carry out modifications or repairs itself or permit such modifications or repairs to be carried out by unauthorized third parties.  If requested by Licensor, Licensee will support Licensor in the analysis of the causes and conditions giving rise to the defect, as well as in the development and testing of correction codes or a work-around solution. \n\nWarranty exclusive.  Licensee’s sole remedy for Software defects is set forth in the foregoing express warranty. The Software is licensed with its current features “as is” and with no warranty or guarantee of whatever nature, other than the foregoing express warranty.  Such express warranty is in lieu of all other warranties, express or implied, either in fact or by operation of law, statutory or otherwise, including warranties, terms or conditions of merchantability, fitness for a particular purpose, satisfactory quality and non-infringement, all of which are expressly disclaimed.  Licensee acknowledges that Licensor’s sales partner or dealers are not allowed to provide any warranty, guarantee or assurance with regard to the use, suitability, or results of use of the Software, or with regard to the precision, accuracy or reliability thereof, and any such warranty, guarantee or assurance is of no effect.  It shall be the responsibility of Licensee to select the Software that fulfils its requirements.  Licensee shall bear the full risk for the performance of and results achieved by the Software and for its suitability for the use that Licensee has planned for it, even when Licensor has been informed of the planned use of the Software. \n\nLicensor shall be relieved of its obligations under the foregoing express warranty to the extent that any defect is caused by circumstances for which it is not responsible, including, without limitation, (a)  non-compliance with the conditions of use and operation contained in the Product description or the documentation; (b)  non-compliance with the provisions of this License Agreement; (c)  unauthorized modifications to or interference with the Software by Licensee or third parties; (d)  errors in the operation of the Software by Licensee or by third-party staff; (e)  influences from systems or programs that have not been supplied by Licensor; or (f)  use on a computer facility other than the Specified Computer Facility. \n\nIn the event that Licensor is not responsible for a defect pursuant to these warranty provisions or that Licensor incurs additional expenditure as a result of the failure of Licensee to comply fully with its obligations under this Section 3 (including, without limitation, its obligation to support and provide documentation to Licensor), Licensor shall have the right to charge Licensee for the costs that it incurs for the analysis and rectification of the defect according to the time and materials required and in accordance with the applicable rates charged by Licensor at the time. \n\n4\tIntellectual Property Rights \n\nLicensee shall hold only those rights to the Software that are expressly described in Section 2 of this License Agreement. As between Licensor and Licensee, any other rights with regard to the Software, including without limitation, ownership rights and patent, copyright, trademark, trade secret and other intellectual property rights, shall remain the sole property of Licensor.  Licensee will not remove from the Software any references to copyrights, trademarks or other ownership rights, or cover up or alter any such references.  Licensee will take all reasonable steps to prevent any unauthorized use, reproduction, sale, or publication of the Software or the unauthorized provision of access thereto.  Licensee will indemnify and hold harmless Licensor from any losses, damages, claims and expenses (including, without limitation, reasonable legal expenses) relating to any infringement of the rights of Licensor caused by Licensee, Licensee’s breach of this License Agreement or Licensee’s use of the Software in a manner not authorized under this License Agreement.\n\nIn the event that Licensee faces legal proceedings based on the allegation that Licensee’s use of a valid, unmodified version of the Software in accordance with the terms and conditions of this License Agreement infringes an existing intellectual property right in Switzerland, the European Union, Japan, the USA or in any other countries where Licensor sells the Software, or that such use constitutes unfair competition, Licensor shall defend any such proceedings at its own expense, provided that Licensee has informed Licensor immediately in writing of the proceedings raised, has granted Licensor a Power of Attorney authorizing it to conduct and settle the legal proceedings, and, if requested by Licensor, has provided Licensor with reasonable support in the defense of such proceedings. \n\nIn the event that, in the sole opinion of Licensor, the valid, unmodified version of the Software could infringe the intellectual property rights of third parties, it shall at its own exclusive discretion (a)  either obtain authorization from such third party for the continued use of the Software by Licensee, (b)  replace the Software, (c)  modify it in such a manner that there is no longer any infringement of intellectual property rights, or (d) if the foregoing measures are not within the bounds of what is reasonably possible, terminate this License Agreement effective immediately and refund to Licensee a portion of the license fees paid (after deduction of an appropriate payment for the use already made of the Software by Licensee).  \n\nNotwithstanding the foregoing, Licensor shall be relieved of its obligations under the prior two paragraphs of this Section 4 if the infringement claim is based on the allegation or fact that the Software (a)  has been modified by Licensee, or (b)  is being used with other programs or data and such combination has led to an infringement of a third-party right, (c) has been used on a computer facility other than the Specified Computer Facility, or (d) has been used and operated under conditions other than those specified in the Product description.   \n\n5 \tLimitation of Liability \n\nTo the extent permitted under applicable law, Licensor shall not be liable for any direct, indirect or consequential loss or damage, including, without limitation, loss of income, loss of business profits or loss of contracts, unrealized cost reductions, loss of data, business interruption, or increased costs on the part of Licensee or any other financial losses, that result from or in connection with the purchase, license, use, breakdown or interruption of operation of the Software.  The foregoing limitation of liability shall also apply in the event that Licensor has been notified of the possibility of such losses being incurred.  Licensor shall be liable only for loss or damage caused by Licensor’s gross negligence or willful misconduct. This limitation of liability shall apply to all claims for loss and damage irrespective of their legal grounds, including, without limitation, claims based on tort, contract, pre- contract or quasi-contract.  This limitation of liability shall also apply to any officers, directors or employees of Licensor, or any representatives or agents of Licensor or licensors of Third-Party Software that are involved in the development, marketing or supply of the Software.\n\nIt shall be the exclusive duty of Licensee to ensure that it and its staff possess the required knowledge to properly install and use the Software. Licensor shall not be liable for problems and defects that arise from insufficient knowledge or learning on the part of the users of the Software. \n\n\n\n\n6 \tExclusion of other Assurances \n\nLicensee hereby agrees that no verbal or written assurances, declarations, statements, recommendations or advertising messages have been made by Licensor, its employees, sales partners, agents, dealers or downstream distributors that could give rise to an amendment or extension of the foregoing warranties and limitation of liability.  Licensee is hereby given notice that none of the forenamed persons is authorized by Licensor to make any such amendments or to provide any such assurances. \n\n7 \tDuration and Termination \n\nThis License Agreement shall come into force on the agreement of Licensee to the provisions hereof and shall remain in force for the term indicated in the Purchase Order. \n\nIn addition to any other right of termination provided in this License Agreement, each party shall be entitled to terminate this License Agreement at any time with immediate effect: \n\na)\tin the event of a material violation of a contractual duty by the other party, including, without limitation, default in payment of the license fee, if the party in breach does not remedy such violation within forty-five (45) days after being served with a notice in writing; \nb)\tis unable to pay its debts, or becomes insolvent, or is subject to an order or a resolution for its liquidation, administration, winding-up or dissolution (otherwise than for the purposes of a solvent amalgamation or reconstruction), or has an administrative or other receiver, manager, trustee, liquidator, administrator or similar officer appointed over all or any substantial part of its assets, or enters into or proposes any composition or arrangement with its creditors generally, or is subject to any analogous event or proceeding in any applicable jurisdiction.\n\nOn any termination of this License Agreement, all rights of use of the Software held by Licensee shall expire.  Within thirty (30) days from the date of termination of the License Agreement Licensee will return to Licensor or destroy (and confirm such destruction in writing to Licensor) the Software and all copies or partial copies thereof that have been made, as well as all modified parts of the Software or interfacing parts linking to other programs or data systems, and to the extent available, all security devices. \n8 \tImport, Export and Use of the Software \n\nLicensee shall be exclusively responsible for ensuring compliance with the relevant legislation relating to its rights to import, export or use the Software. \n\n9 \tGeneral Provisions \n\nIf any term or provision of this License Agreement shall be or shall become invalid or unenforceable for any reason, such term or provision shall be ineffective to the extent of such invalidity or unenforceability without invalidating the remaining terms and provisions hereof, provided, however, that the parties shall replace any such invalid or unenforceable provision by a valid and enforceable provision as comes nearest to the original provision in economic impact and intent. This License Agreement may be modified only in writing, signed by an authorized officer of Leica Geosystems. This is the entire agreement between Leica Geosystems and Licensee regarding the Software and it supersedes any prior representation, discussions, undertakings, communications or advertising relating to the Software. \n\n10 \tThird-Party Beneficiary \n\nThe parties expressly agree that each subsidiary of Leica Geosystems, including the entity from whom Licensee purchased the Product (if the Product is not the Software itself), is a third-party beneficiary of this Software License Agreement, and, without limiting the foregoing, such subsidiaries shall have all defenses available to Leica Geosystems under this Software License Agreement. \n\n11 \tGoverning Law and Place of Jurisdiction \n\nThis Agreement shall be governed by the laws of Switzerland, excluding all conflicts of laws principles and excluding the United Nations Convention on Contracts for the International Sale of Goods.  The ordinary courts at the headquarters of Leica Geosystems AG in Balgach, Switzerland shall have jurisdiction.  Licensor shall, in its sole discretion, also have the right to invoke the courts of law having jurisdiction at the domicile or place of business of Licensee.   \n \n\n\n\n\nLeica Geosystems AG \nHeinrich-Wild-Strasse 201 \nCH - 9435 Heerbrugg \n(Switzerland) \n \nHeerbrugg, 12 May 2020\n\f\n\n\n\n\nLeica Geosystems Software Licensing Agreement:\nIntegrated and Resale Software Supplemental Terms\n\n*Please read these License Agreement Supplemental Terms thoroughly before using the Software*\n\nThese Integrated and Resale Software Supplemental Terms (“Supplemental Terms”) are attached to and incorporated in the Leica Geosystems Software License Agreement (“License Agreement”) between Customer (“Licensee”) and Leica Geosystems AG (“Leica Geosystems” or “Licensor”). These Supplemental Terms together with the License Agreement and other applicable agreements form the agreement between Licensor and Licensee (“Agreement”). All capitalised terms used in these Supplemental Terms that are not defined herein have the same meaning as set forth in the License Agreement.\n\n1.\tDefinitions\n\n“Data” means any electronic data, text, messages, communications, documents, photos or other materials submitted to and stored within the Services by Leica, its Authorised Resellers, its Affiliates, or Licensee or an End-User in connection with the use of the Services.\n\n“End-User” means an entity or person who uses one or more of the Third-Party Software for or on behalf of Licensee.\n\n“Services” means cloud-based software solutions.\n\n2.\tThird-Party Software. In addition to the terms and conditions set forth in the License Agreement, these Supplemental Terms govern Licensee’s use of the following third-party software integrated or resold by Licensor (“Third-Party Software”): See list at https://leica-geosystems.com/about-us/compliance-standards/legal-documents.\n\n3.\tUse. Licensor grants to Licensee a non-exclusive, non-transferable, non-sublicensable, and non-assignable right to use the Third-Party Software as part of the Software for its internal business operations under the terms stated in the License Agreement and these Supplemental Terms.  To the extent there is any conflict or inconsistency between the provisions of the License Agreement and the Supplemental Terms, or to the extent the Supplemental Terms address matters not addressed in the License Agreement, the provisions of these Supplemental Terms shall take priority and govern solely with respect to the Third-Party Software.\n\n4.\tNo Copies. Licensee shall not copy the Third-Party Software except: (i) as necessary to read the Third-Party Software from the media into the memory of a computer solely for the purpose of executing it on a single machine (whether a stand-alone computer or a workstation component of a multi-terminal system), or (ii) to create an archival copy.  All such copies of the Third-Party Software shall contain the same proprietary notices which appear on and in the Third-Party Software.  Licensee shall not install, access, or otherwise copy or use the Third-Party Software except as expressly authorized by these Supplemental Terms.  \n\n5.\tRestrictions. Licensee shall not: (i) modify, adapt, translate, reverse engineer, decompile, or disassemble the Third-Party Software or any part thereof; (ii)  modify, translate, adapt, arrange, or create derivative works based on the Third-Party Software for any purpose; (iii) remove, modify or hide or otherwise make unreadable or non-viewable any proprietary notice, label, legend, advice, watermark, trademark, service mark, or other designation contained on the Third-Party Software, any component thereof, documentation, or output therefrom; (iv) distribute copies of the Third-Party Software to any third party, including, without limitation, to test, gift, rent, lease, loan, or sublicense the Third-Party Software to any third party; (v) install or access, or allow the installation or access to, the Third-Party Software in a virtual server environment or over the Internet, including, without limitation, use in connection with a Web hosting or similar service, or make the Third-Party Software available to any third party via the Internet or otherwise; (vi) use or export the Third-Party Software outside of the country of purchase for any reason; (vii)  use or permit the use of the Third-Party Software in violation of any U.S. Federal, state, or local laws or regulations or any foreign law or regulation, including but not limited to export control laws; (viii) attempt to circumvent or disable the security key mechanism that protects the Third-Party Software against unauthorized use (except and only to the extent that applicable law prohibits or restricts such restrictions); (ix) publicly disseminate performance information or analysis (including, without limitation, benchmarks) from any source relating to the Third-Party Software; or (x) publish any results of benchmark tests run on the Third-Party Software. Licensee acknowledges and consents to the Software automatically connecting to the Internet and communicating with Licensor and/or its designated third parties connected with the development and/or the validation of the Software and the enforcement of licensing terms set out in this Agreement, to enable Licensor and its designated third parties to maintain, process and use an End-User’s IP address, location, technical, diagnostic, usage, licensing, and related information, which information will be processed in accordance with the terms of this License Agreement and the use, privacy, and data processing policies viewable at https://leica-geosystems.com/global/privacy-policy.\n\n6.\tTitle. Title to and ownership of the intellectual property rights associated with the Third-Party Software and any copies remain with the Third-Party Software suppliers identified in Section 2 and their licensors/suppliers.  \n\n7.\tDisclaimers.  \n\na.\tDisclaimer of Warranties. THE THIRD-PARTY SOFTWARE IS PROVIDED “AS IS.” NEITHER LICENSOR NOR ITS SUPPLIERS MAKE ANY OTHER WARRANTIES, CONDITIONS OR UNDERTAKINGS, EXPRESS OR IMPLIED, STATUTORY OR OTHERWISE, INCLUDING BUT NOT LIMITED TO WARRANTIES OF title, MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, OR NONINFRINGEMENT. LICENSEE MAY HAVE OTHER STATUTORY RIGHTS; HOWEVER, TO THE FULL EXTENT PERMITTED BY LAW, THE DURATION OF STATUTORILY REQUIRED WARRANTIES, IF ANY, SHALL BE LIMITED TO THE SHORTEST PERIOD PERMITTED BY LAW.  LICENSOR MAKES NO WARRANTIES WITH RESPECT TO ANY THIRD-PARTY COMPONENTS OF THE THIRD-PARTY SOFTWARE.\n\nb.\tWarnings; Additional Disclaimers.  THE THIRD-PARTY SOFTWARE IS A TOOL INTENDED TO BE USED BY TRAINED PROFESSIONALS ONLY, AND ANY OUTPUT OF the THIRD-PARTY SOFTWARE (INCLUDING WITHOUT LIMITATION COMPARISONS OF A PRODUCT’s FIELD SCANS WITH MODELS) MUST BE ANALYZED BY SUCH TRAINED PROFESSIONALS BEFORE MAKING ANY DECISIONS. THE THIRD-PARTY SOFTWARE IS NOT A SUBSTITUTE FOR PROFESSIONAL JUDGMENT OR INDEPENDENT TESTING, WHETHER REQUIRED OF LICENSEE OR OTHERWISE. DUE TO THE LARGE VARIETY OF POTENTIAL APPLICATIONS FOR THE THIRD-PARTY SOFTWARE, THE THIRD-PARTY SOFTWARE HAS NOT BEEN TESTED IN ALL SITUATIONS UNDER WHICH IT MAY BE USED.  ANY USE BY LICENSEE OF (i) THE THIRD-PARTY SOFTWARE OR (II) ANY OUTPUT OF THE THIRD-PARTY SOFTWARE IS SOLELY AT LICENSEE’s OWN RISK AND LICENSOR AND ITS SUPPLIERS WILL HAVE NO LIABILITY FOR SUCH USE.  LICENSEE IS SOLELY responsible FOR THE ACCURACY OF ALL FIELD SCANS AND MODELS. THE LICENSORS OF THE MODELING PROGRAMS MAY CHANGE THE MODELING PROGRAMS SO THAT THEY ARE NO LONGER COMPATIBLE WITH THE THIRD-PARTY SOFTWARE, AND LICENSOR AND ITS SUPPLIERS WILL HAVE NO RESPONSIBILITY FOR ANY INABILITY TO USE THE THIRD-PARTY SOFTWARE DUE TO A CHANGE IN THE MODELING PROGRAM. LICENSEE IS RESPONSIBLE FOR THE SUPERVISION, MANAGEMENT, AND CONTROL OF THE THIRD-PARTY SOFTWARE. THIS RESPONSIBILITY INCLUDES, BUT IS NOT LIMITED TO, THE DETERMINATION OF APPROPRIATE USES FOR THE THIRD-PARTY SOFTWARE AND THE SELECTION OF THE THIRD-PARTY SOFTWARE AND OTHER PROGRAMS TO ACHIEVE INTENDED RESULTS.  THE THIRD-PARTY SOFTWARE IS NOT FAULT TOLERANT AND IS NOT DESIGNED, MANUFACTURED OR INTENDED FOR USE IN LIFE SUPPORT, MEDICAL, EMERGENCY, MISSION CRITICAL OR OTHER STRICT LIABILITY OR HAZARDOUS ACTIVITIES (“HIGH RISK ACTIVITIES”). LICENSOR AND ITS SUPPLIERS EACH SPECIFICALLY DISCLAIM ANY EXPRESS OR IMPLIED WARRANTY OF FITNESS FOR HIGH RISK ACTIVITIES.  LICENSEE REPRESENTS AND WARRANTS THAT ITS END USER(S) WILL NOT USE THE THIRD-PARTY SOFTWARE (OR PERMIT IT TO BE USED) FOR HIGH RISK ACTIVITIES AND AGREE THAT LICENSOR AND ITS SUPPLIERS WILL HAVE NO LIABILITY FOR USE OF THE THIRD-PARTY SOFTWARE IN HIGH RISK ACTIVITIES. LICENSEE SHALL INDEMNIFY, DEFEND, AND HOLD HARMLESS LICENSOR AND ITS SUPPLIERS FOR ANY CLAIMS, DAMAGES, LIABILITIES OR OTHER LOSSES RESULTING FROM SUCH USE.\n\n8.\tIndemnification.  LICENSEE SHALL INDEMNIFY, DEFEND, AND HOLD HARMLESS LICENSOR, ITS DISTRIBUTORS, LICENSORS, AND SUPPLIERS, AND THEIR RESPECTIVE AGENTS, OFFICERS, MANAGERS, EMPLOYEES, AND MEMBERS  FROM AND AGAINST ANY AND ALL CLAIMS, DEMANDS, SUITS, JUDGMENTS AND EXPENSES (INCLUDING REASONABLE LEGAL FEES AND EXPENSES) ARISING OUT OF OR RELATING TO: (A) A BREACH BY LICENSEE OF ITS  OBLIGATIONS UNDER THE LICENSE AGREEMENT OR THESE SUPPLEMENTAL TERMS; (B) ANY VIOLATION OF ANY LAW, REGULATION, OR THIRD-PARTY RIGHTS; AND/OR (C) INTELLECTUAL PROPERTY MISAPPROPRIATION OR INFRINGEMENT CLAIMS BY ANY THIRD PARTY BASED ON, OR RELATING TO, LICENSEE’S USE OF THE THIRD-PARTY SOFTWARE.  LICENSEE SHALL GIVE LICENSOR PROMPT NOTICE OF SUCH CLAIMS AND PERMIT LICENSOR TO CONTROL THE DEFENSE OR SETTLEMENT THEREOF.\n\n9.\t Return of Copies. Upon termination of the License Agreement for the Software and Third-Party Software, Licensee shall discontinue use and destroy or return to Licensor all copies of the Third-Party Software and related Documentation.\n\n10.\tLimitation of Liability.  \n\na.\tNEITHER LICENSOR NOR LICENSOR’S SUPPLIERS AND/oR DISTRIBUTORS SHALL BE LIABLE FOR ANY LOSS OF USE, LOST DATA, FAILURE OF SECURITY MECHANISMS, INTERRUPTION OF BUSINESS, OR ANY INDIRECT, SPECIAL, INCIDENTAL, OR CONSEQUENTIAL DAMAGES OF ANY KIND (INCLUDING LOST PROFITS), REGARDLESS OF THE FORM OF ACTION, WHETHER IN CONTRACT, TORT (INCLUDING NEGLIGENCE), STRICT LIABILITY OR OTHERWISE, EVEN IF INFORMED OF THE POSSIBILITY OF SUCH DAMAGES IN ADVANCE.\n\nb.\tNOTWITHSTANDING ANY OTHER PROVISION OF THE LICENSE AGREEMENT, LICENSOR’S AND LICENSOR’S SUPPLIERS’ AND/oR DISTRIBUTORS’ ENTIRE LIABILITY TO LICENSEE UNDER THE LICENSE AGREEMENT AND THESE SUPPLEMENTAL TERMS SHALL NOT EXCEED THE AMOUNT ACTUALLY PAID BY LICENSEE TO LICENSOR FOR THE SOFTWARE UNDER THE LICENSE AGREEMENT\n\n11.\tThird Party Beneficiary. Third-Party Software suppliers identified in Section 2 are intended third party beneficiaries of Licensor’s rights under the License Agreement and these Supplemental Terms.\n\nHeerbrugg, 12 May 2020'

const updateMockedStore = configureMockStore()(
  mergeDeepRight(mockStore, {
    system: {
      updateInfo: {
        usbConnected: true,
        version: '0.0.0.0',
        changelog:
          'NEW FEATURES\n- INSTALLER: Updated CLM to the latest version 2.14\n- INSTALLER: PEF self-update allows user to update PEF autonomously\n- ACQUISITION:2 million points support for TRKEVO 500/700\n- PROCESSING: New processing workflow allowing the user to process multiple times\n- PROCESSING: Export multi-return values for Optech scanners\n \n \nIMPROVEMENTS\n- PLANNING: Minor bug fixing and improvements \n- PROCESSING: Anonymization improved efficiency',
        lastVersion: '2024.1.1.98',
        lastDate: 'yyyy-MM-ddTHH:mm:ssTZD',
        eula,
      },
    },
  })
)

export default {
  title: 'Dialogs/UpdateDialog',
  component: UpdateDialog,
  // See the options: https://storybook.js.org/docs/react/essentials/controls
  argTypes: {},
  /**
   * registers callbacks starting with 'on' to actions automatically
   */
  parameters: { actions: { argTypesRegex: '^on.*' } },
} as Meta

const Template: Story = (args) => {
  return <UpdateDialog {...args} />
}

export const Default = Template.bind({})

const TemplateUpdateMockStore: Story = (args) => {
  return (
    <Provider store={updateMockedStore}>
      <UpdateDialog {...args} />
    </Provider>
  )
}

export const UpdateMockStore = TemplateUpdateMockStore.bind({})
