@mixin applyThemes() {
  @each $theme, $arr in $themes {
    :global(.theme-#{$theme}) & {
      $theme_name: $theme !global;
      @content;
    }
  }
}

@mixin applyThemesRoot() {
  @each $theme, $arr in $themes {
    .theme-#{$theme} & {
      $theme_name: $theme !global;
      @content;
    }
  }
}

@function t($key) {
  @return map-get(map-get($themes, $theme_name), $key);
}

/// Map deep get
/// @author Hugo Giraudel
/// @access public
/// @param {Map} $map - Map
/// @param {Arglist} $keys - Key chain
/// @return {*} - Desired value
@function map-deep-get($map, $keys...) {
  @each $key in $keys {
    $map: map-get($map, $key);
  }

  @return $map;
}

@function hexToRGB($hex) {
  @return red($hex), green($hex), blue($hex);
}

/**
 * theme colors. NEEDS TO BE IN SYNC WITH `materialDesignColors.ts`
 */
$themes: (
  dark: (
    // OLD COLORS
    dropdown: #b7b7b7,
    // NEW COLORS
    // - PRIMARY
    primary-1: #000000,
    primary-2: #121212,
    primary-3: #242424,
    primary-4: #5b6370,
    primary-5: #30353b,
    primary-6: #282d33,
    primary-7: #b5b5b5,
    primary-8: #bcbec5,
    primary-9: #e0e0e0,
    primary-10: #393f48,
    primary-11: #ffffff,
    primary-12: #3a3a3a,
    primary-13: #c4c4c4,
    primary-14: #393f48,
    primary-15: #282d33,
    primary-16: #9e9e9e,
    primary-17: #242424,
    primary-18: #ffffff,
    primary-19: #393f48,
    primary-20: #242424,
    primary-21: #9e9e9e,
    primary-22: #424242,
    primary-23: #303030,
    primary-24: #787878,
    // - SECONDARY
    secondary-1: #f2d83b,
    secondary-2: #146f84,
    secondary-3: #52e7ff,
    secondary-4: #2ebe9f,
    secondary-5: #e00c0c,
    secondary-6: #e72d31,
    secondary-7: #be5050,
    secondary-8: #1db0ff,
    secondary-9: #98bf67,
    secondary-10: #ffc120,
  ),
  light: (
    // OLD COLORS
    dropdown: #e6e6e6,
    // NEW COLORS
    // - PRIMARY
    primary-1: #ffffff,
    primary-2: #fafafa,
    primary-3: #242424,
    primary-4: #f5f5f5,
    primary-5: #bdbdbd,
    primary-6: #9e9e9e,
    primary-7: #b5b5b5,
    primary-8: #bcbec5,
    primary-9: #e0e0e0,
    primary-10: #ffffff,
    primary-11: #000000,
    primary-12: #3a3a3a,
    primary-13: #424242,
    primary-14: #393f48,
    primary-15: #f5f5f5,
    primary-16: #9e9e9e,
    primary-17: #ffffff,
    primary-18: #ffffff,
    primary-19: #fafafa,
    primary-20: #fafafa,
    primary-21: #9e9e9e,
    primary-22: #424242,
    primary-23: #393f48,
    primary-24: #787878,
    // - SECONDARY
    secondary-1: #f2d83b,
    secondary-2: #146f84,
    secondary-3: #52e7ff,
    secondary-4: #2ebe9f,
    secondary-5: #e00c0c,
    secondary-6: #e72d31,
    secondary-7: #be5050,
    secondary-8: #1db0ff,
    secondary-9: #98bf67,
    secondary-10: #ffc120,
  ),
);

// @debug map-deep-get($themes, 'light', 'background_main');

body {
  &.theme-light {
    background: map-deep-get($themes, 'light', 'primary-1');
  }

  &.theme-dark {
    background: map-deep-get($themes, 'dark', 'primary-1');
  }
}

body {
  &.theme-light {
    ::-webkit-calendar-picker-indicator {
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" viewBox="0 0 24 24"><path fill="%23000000" d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"/></svg>');
    }
  }

  &.theme-dark {
    ::-webkit-calendar-picker-indicator {
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="15" viewBox="0 0 24 24"><path fill="%23FFFFFF" d="M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"/></svg>');
    }
  }
}
